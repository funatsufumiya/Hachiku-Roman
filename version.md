## おもな修正履歴

* (Naginata.ahk) 例えば「う」押す→「スペース」押す→「う」離す、でスペースが発行されていたのを修正（大岡様ありがとうございました）
* (Naginata.ahk) 3キー以上を限りなく同時に押すと、2文字までしか入力されないことがある、のを修正

(ここまで2021年2月9日追加)

* (KanaTable.ahk) エクスプローラーの検索欄で入力が失敗する、３文字のローマ字のディレイを設定し直した

(ここまで2021年2月10日追加)

* (Naginata.ahk) リセット機能を強化
* (init.ahk) {確定}機能の最初の実装
* (KanaTable.ahk) 記号入力で改行されすぎる不具合の解消

(ここまで2021年2月11日追加)

* (Naginata.ahk) リセット機能の不完全な実装を解消
* (KanaTable.ahk) 何も入力しない「Q」単打は、Windows が無反応だった頃の「かな」キーのスキャンコードを出力するように変更

(ここまで2021年2月12日追加)

* (Naginata.ahk) 入力部分の強化
* (init.ahk) 定義をされているかなを元に戻せるようにした
* (KanaTable.ahk) 一部かな定義の間違いを訂正。ディレイの修正

(ここまで2021年2月13日追加)

* 出力速度の最適化
* ディレイの設定を不要にした。ある場合はこれまでと同様の動作、ない場合は自動設定される。

(ここまで2021年2月18日追加)

* 同じキーを連打して取りこぼすことが、主に編集モードで起きていたのを解消した
* Shift + 半角/全角 の動作を直した

(ここまで2021年2月19日追加)

* 編集モードでロールオーバーができない組み合わせを解消した
* (init.ahk) {確定}機能を再実装。Ctrl+Enter を入力します。
* (init.ahk) {固定}機能を実装。「n」→改行→BS を入力します。新MS-IMEでユニコード入力の前に使います。
* (KanaTable.ahk) 記号入力で改行されすぎる不具合の再度の解消
* (Naginata.ahk) 入力バッファの大きさを調節(キーを押す時は6個残す)

すべてのファイルを入れ替えた場合のみ、修正が有効になります。

(ここまで2021年2月21日追加)

* (Naginata.ahk) スペースキーを押しながらのカーソルキー、Home、End、PageUp、PageDown をシフトキーを押しながらと同じ動作になるようにした
* (init.ahk) ユニコード文字の前後でかな入力を確定する操作を入れた。「nn」→Control+Enter→BS
* (init.ahk)(KanaTable.ahk) そのため、{確定} {固定} 機能を廃止

(ここまで2021年2月23日追加)

* (init.ahk) × はユニコード文字でないことがわかったので、調整
* (Naginata.ahk) ATOK に対応させるために出力タイミングを調整

(ここまで2021年2月24日追加)

* (KanaTable.ahk) Shift+ろ → ＿

(ここまで2021年2月26日追加)

* (Naginata.ahk) キーを離してもシフトが残ることがあるのを修正

(ここまで2021年2月27日追加)

* (KanaTable.ahk) 内容は薙刀式創作者である大岡様の著作物のため、著作権表記を変更した。

(ここまで2021年3月1日追加)

* ファイル構成の変更
* 時限式の後置シフトを実装(初期設定は通常シフト)

Naginata.ahk 24行目に設定があります。
たとえば後置シフトを60ミリ秒まで認める場合、
ShiftDelay := 60
とします。

* 冗長シフトの削除

Naginata.ahk 17行目を
#Include KanaTable/OldNaginataTable.ahk
と書き換えれば、以前のものと同じになります。
このとき後置シフトにすると、どれかキーを上げるまで字が入らないことがあります。

(ここまで2021年3月14日追加)

* (Conv.ahk) 後置シフトが有効の時だけ、高精度タイマーを使うようにした

(ここまで2021年4月8日追加)

* (Conv.ahk) タスクトレイメニューに“縦書きモード”切り替えを追加

(ここまで2021年4月11日追加)

* (IME.ahk) コメント追加

* (Conv.ahk) 薙刀式に変換せずにそのまま通ってしまうことがあるのを修正(失敗)

(ここまで2021年4月20日追加)

* (Conv.ahk) 後置シフト有効時に、３キー同時→３キー同時でロールオーバーができなかったのを直した
* (Conv.ahk) 後置シフトの判定期限に確定できる時は、出力する

(ここまで2021年4月24日追加)

* (Conv.ahk) かなと英数を切り変えた時、薙刀式に変換せずにそのまま通ってしまうことがあるのを軽減(失敗)

(ここまで2021年4月28日追加)

* (Conv.ahk)(init.ahk) ユニコード文字の前後で、ディレイを置きつつ未確定状態が検出できたら確定するように変更。

ATOK でストアアプリに記号入力すると、「ん」を入力したままになってしまったため。

ATOK で全角空白をユニコード入力すると、変換途中にも関わらず未確定状態として認識できないので、対策をした。

(ここまで2021年5月10日追加)

* (Conv.ahk)(init.ahk) 記号入力と固有名詞をIMEオフにして出力するように変更。その際の ATOK 対策。

(ここまで2021年5月22日追加)

* (Naginata.ahk)(Conv.ahk)(init.ahk) 固有名詞の定義方法を変更。全角・半角ともにそのまま入力されるようにした。

* (Conv.ahk) 何も出力しない {Null} を定義した。「Q」単打などに使用。

* (Conv.ahk) ATOK 対策の強化と、ATOK の誤検出を減らす対策。

* (NaginataTable.ahk)(OldNaginataTable.ahk) 固有名詞ショートカット(U+I)を押し続けて、前文字削除(U)のリピートが起きる場合があるので対策

(ここまで2021年5月23日追加)

* (Conv.ahk) Microsoft Word に対応させるための応急処置

(ここまで2021年5月24日追加)

* (Conv.ahk) ATOK の自動検出を廃止。

(ここまで2021年5月28日追加)

* (Naginata.ahk) 冗長シフトを復活

* (Conv.ahk)(init.ahk) 左右シフトを英数入力、かな入力からコンパイル前に選択
* (Conv.ahk) ATOK可のとき、秀丸エディタの使用時とそれ以外でディレイを自動変更
* (Conv.ahk)(init.ahk) シフトを押しながらの同時押しに制限時間を設けた

(ここまで2021年6月19日追加)

* Enterキーをシフトを兼ねられるようにした。
* トレイアイコンを右クリックして設定画面が出せるようにした。

(ここまで2021年7月10日追加)

* 記号をUSキーボード風にする設定を追加

(ここまで2021年7月10日追加)

* 固有名詞ショートカットの変更画面を作った。

(ここまで2021年7月18日追加)-Beta 1

* 左右シフトかなを初期設定とした
* スペース＋エンターを Shift+Enter に変換するようにした
* 2キー同時押しの次に押したキーが1キー単打だったら、前の文字を出力して Issue #7 を回避する

(ここまで2021年7月21日追加)

* 漢字変換中に英数入力に切り替え編集モードの記号を入力すると、記号は未確定で、かな入力のままになるバグを修正
* 薙刀式中断 Shift+Ctrl+0、薙刀式再開 Shift+Ctrl+1 の実装
* DvrakJ版の定義とコメントの順番に直した

(ここまで2021年8月28日追加)

* 配列の定義を書き換えるのに src¥KanaTable¥ 内の定義1ファイルだけで良くなるよう、サブルーチンを関数に書き換え、ファイル構成を改めた。
* そのため、これまでのバージョンの配列定義ファイルからは書き換えが必要です。
* MS-IMEの新旧バージョンをときどき自動検知して、編集モード、固有名詞ショートカットの速さを最適化 (将来の Windows に対応できるかは不明)

(ここまで2021年9月8日追加)

* 固有名詞ショートカットのシフト面（スペース押下）を追加

(ここまで2021年9月21日追加)

* スペースキーのリピートをオンオフできる設定を追加

スペースキーのリピート中の日本語入力は、変換取消してシフト側文字が出力されます。

(ここまで2021年10月1日追加)

* 縦書き・横書きでまるで違う定義を登録する関数を追加

SetKana2(キービットの集合, 縦書き, 横書き, コントロール)

SetEisu2(キービットの集合, 縦書き, 横書き, コントロール)

従来からの SetKana()、SetEisu() は縦書き用からカーソル移動の向きを変換しています。

(ここまで2021年10月2日追加)

* 薙刀式 v14集大成版（仮）に対応

(ここまで2021年10月8日追加)
